<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Sigh, Gone - My Thoughts on the Book – Subhaditya’s KB</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Subhaditya’s KB</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Sigh, Gone - My Thoughts on the Book</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Sigh, Gone - My Thoughts on the Book</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">article</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="sigh-gone-phuc-tran---my-thoughts-on-the-book" class="level1">
<h1>Sigh, Gone ; Phuc Tran - My Thoughts on the Book</h1>
<p>At some point in life, we stop reading and shift to faster content - articles, videos, and now “reels.” This year, I decided to go the other way and read as many books as possible. And perhaps write about some of them. Summarizing a book, though, is an exercise in futility and encourages more “fast content,” which is the opposite of what I want to do. Instead, I want to explore some of my thoughts while reading these books as a note to you, my dear reader, and future me.</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This article is about the book <em>Sigh, Gone: A Misfit’s Memoir of Great Books, Punk Rock, and the Fight to Fit In</em> by <em>Phuc Tran</em>. The book is a journey through the author’s life as a second-generation immigrant in America and his struggle to fit in. Phuc talks about many things: kind families, racism, trying to blend in, books, and what influenced him growing up. I loved the writing style and how every chapter was the name of a book. It was an enjoyable read, although some parts did make me want to cry.</p>
<p>Okay, that’s enough of an introduction—time for a more serious discussion.</p>
</section>
<section id="blending-in" class="level2">
<h2 class="anchored" data-anchor-id="blending-in">Blending In</h2>
<p>I think it makes sense to start with the actual premise of the book, without which the context is impossible to understand. Immigrants face many challenges wherever they go, some harder than others. While this is hard for adults, it is even more challenging for children. Growing up, they not only have to live in a society that does not want them there but also understand what shaped their families. Many children experience a different life before moving to a foreign country, and the change is sometimes too difficult for them to understand. More often than not, they grow up with many conceptions about the world and themselves that are not helpful to them as adults.</p>
<p>But everyone is different, so why not just be yourself? Well, that is easier said than done. Growing up, the author tries to fit in with a society his family is unfamiliar with. He faces blatant racism, violence, and impossible expectations. As a kid, this led to a lot of confusion. Perhaps the only way to fit in is to be a misfit?</p>
</section>
<section id="cultures" class="level2">
<h2 class="anchored" data-anchor-id="cultures">Cultures</h2>
<p>From personal experience, culture is the biggest source of my confusion in understanding my identity. Growing up as a part of two different cultures is genuinely confusing. For the author, this, too, was a significant source of confusion. Who was he? In his community, he was an <em>Oriental</em>, a highly fetishized term. According to some of his siblings from larger cities, he was an <em>Asian</em>, someone who could be cool. But perhaps he was an <em>American</em> too? But he could never be what they were - <em>White</em>.</p>
<p>We often struggle to blend in because we don’t have a fixed identity. All these parts of us blend in to be a mix of everything. But society loves putting people and concepts in rigid boxes. If you are a <em>punk rocker</em>, you are not a <em>good student</em>. If you are a person of color, you can never be as <em>cool</em> as the others.</p>
<p>This affects us all the way down, from food to clothing to our self-image and worth. Perhaps inherently, we believe that parts of us are <em>bad</em> and the parts that fit in are <em>good</em>. We forget that everyone is different. We try to fit in by erasing all the parts of us that are <em>bad</em> but end up erasing many that are <em>good</em> too.</p>
</section>
<section id="we-are-the-racists" class="level2">
<h2 class="anchored" data-anchor-id="we-are-the-racists">We Are the Racists</h2>
<p>As a kid, everyone is the same. There is no “other”. But as adults, we believe in our tribe to the point of excluding everyone else. The author experiences a lot of racism, from his classmates to teachers and even the police.</p>
<p>When he was a little older, he realized everyone, including himself, was a little racist. Not in the traditional sense of the word - to distinguish between white and people of color but in the much broader sense. His family thought that <em>hard-working</em> people were a lot <em>better</em> than those who did not. People with a good education were <em>better</em> than those without, etc.</p>
<p>Now that I think about it, we tend to categorize everyone as <em>tribe</em> and <em>not tribe</em>. This may be useful to some extent, but on a broader scale, it leads to alienation both within and without.</p>
<p>We are the racists. All of us are. One way or the other.</p>
</section>
<section id="kindness" class="level2">
<h2 class="anchored" data-anchor-id="kindness">Kindness</h2>
<p>Amid all the struggle, there are always moments of joy and love. The author notes that without the help of families that supported them, there was no way they would have been able to survive. Some people help others unconditionally; perhaps they are why we still have faith in humanity.</p>
<p>Neither I nor the author intend to say we should unquestioningly trust everyone. But being careful is different from excluding everyone different.</p>
</section>
<section id="great-expectations" class="level2">
<h2 class="anchored" data-anchor-id="great-expectations">Great Expectations</h2>
<p>Ask any children whose parents struggled to be where they were, and you will find great expectations. Perhaps this is only natural. Our parents faced a lot of hardship to give us the life that we have. In that, we must be grateful. That being said, a certain expectation trickles down to the generations that come after. “We worked so hard to raise you. You must be the best.” Perhaps this is our parents trying to live their dreams through us. Or maybe everything seems worth it to them when we are happy.</p>
<p>The intent is filled with love and kindness, but the effects might not be. The outside world is not always kind to those who are different, but what if family makes it worse? Growing up, the author’s family wanted him to be someone he was probably not—good grades, showing the world that the family was okay and much more.</p>
<p>Hard work does not always equate to a successful life. But trying to live the <em>American Dream</em>, makes it feel like that is the only way to get there. Exchange your life and dreams to be someone you are not.</p>
<p>Sometimes, children need to be told that they are doing well. We can see that we must be <em>more</em>, but hearing that a hundred times does not make us want to do it.</p>
</section>
<section id="violence" class="level2">
<h2 class="anchored" data-anchor-id="violence">Violence</h2>
<p>More often than not, violence is born from pain. A lot of pain. For immigrant families, the drastic change from home to elsewhere is a significant source of this pain. New cultures, hard work, loneliness, and fitting in all lead to a lot of frustration. Sometimes, this pain stays with people and only bursts out at points where they cannot hold it in anymore. The author experiences physical abuse from his parents, being beaten to the point he could not sit down, being forced to sit on uncooked rice, etc.</p>
<p>One can say that these are manifestations of a large amount of pain that has not been processed. Therapy helps here, but many of our parents have never had the chance to have that.</p>
<p>I think that, as children, it helps to know that these bouts of rage are not because of us. While that does not change anything, it does help us accept it a little more. Perhaps in the future, when we have the space to process these emotions, we can forgive our past and present.</p>
</section>
<section id="this-is-not-your-home" class="level2">
<h2 class="anchored" data-anchor-id="this-is-not-your-home">This Is Not Your Home</h2>
<p>The author and his brother faced many instances where their parents pretended to leave to discipline them. They left the author stranded on a road, packed their bags, and left them alone at home, etc.</p>
<p>Some part of me wants to talk about my experiences here, but I am not ready to do that yet.</p>
<p>In some ways, these experiences inspire discipline in children but also make them trust their families less. To some extent, they end up growing up faster than they should. When everyone around you already does not want you, if your parents show that they don’t, it breaks you. It really does.</p>
</section>
<section id="books" class="level2">
<h2 class="anchored" data-anchor-id="books">Books</h2>
<p>Ah, books. I, for one, would never be where I am without them. Growing up, they were more than just stories. They were my mentors, friends, and confidants.</p>
<p>Phuc talks about how we found a book called the Lifetime Reading Plan, a list of books that every civilized American must read before they die. He initially starts reading some of them as a means of fitting in and being more <em>American</em>, but he slowly starts to enjoy them. They show him a world beyond his own, ways of living and understanding. He realizes that he can be a Punk but also a good student.</p>
<p>To a large extent, this is also my own journey with books. I started reading to escape and also because I hoped it would help me understand my fellow humans a bit better. I was a misfit too and that will never change. But without books, I do not think I would have ever had the confidence to be myself, learn so much about the world and want to live in it.</p>
</section>
<section id="symbols" class="level2">
<h2 class="anchored" data-anchor-id="symbols">Symbols</h2>
<p>I did not realize the concept of symbols in this fashion before I read the chapter on it. Phuc talks about how sometimes we treat people as symbols. For instance, we might think of Vietnamese people as those affected by the war. The author bumps into many people who fought in the war and probably lost loved ones there. He realizes that they look at him and his family as symbols—a concept, not a human.</p>
<p>I think this is one way we, as humans, try to make sense of the world. We categorize everyone we see. Indians are the ones with <em>butter chicken</em>, and Middle Easterns are <em>terrorists</em>. Are they? NO. Every single person is different. Every single person has a long, complex history that ranges back generations before them. But perhaps thinking of this is not easy, and we try to define people as a singular concept.</p>
<p>It is nice to be mindful of these thought patterns, I think. But it is a major shift in perspective too.</p>
</section>
<section id="black-and-white" class="level2">
<h2 class="anchored" data-anchor-id="black-and-white">Black and White</h2>
<p>One of the things I love about this book is that the author does not take a black-and-white approach when talking about his past. Hard boundaries do not define people.</p>
<p>He talks about how his father had great expectations and showed them in not very calm ways, but also how he tried to let his kids enjoy life. He did take them to the movies. He did try to let them become who they were.</p>
<p>This is the part that confused me the most growing up. Society tells us that people are either <em>good</em> or <em>bad</em>. But everyone is a mix of both. People can hurt us but also love us. As a child, these mixed signals might lead to some of us shutting everyone out. How can you trust anyone if they are not consistent?</p>
<p>Our parents love us, but they have their demons too. Perhaps if we understand their pain, we can try to forgive them and soothe our own.</p>
</section>
<section id="disclaimer" class="level2">
<h2 class="anchored" data-anchor-id="disclaimer">Disclaimer</h2>
<p>I said many things in the blog, most of which are around acceptance. I think these views reflect what the author talks about, but I do not want to make the claim that they fully portray his views. These opinions are my own, and perhaps this is a way of showing my thoughts about the book without spoiling the story for those who decide to read it.</p>
<p>I understand that acceptance seems like a scam for anyone facing many of these issues now. For now, it probably is. If you are being abused, please get help! I do not intend to say that you should sit back and accept everything happening to you. Instead, this is for when you are out of the situation. Life moves on, and we must all make friends with our demons.</p>
</section>
<section id="resources-for-second-generation-immigrants" class="level2">
<h2 class="anchored" data-anchor-id="resources-for-second-generation-immigrants">Resources For Second Generation Immigrants</h2>
<p>If you are like me, a second-generation immigrant, this book might resonate quite deeply with you. In my journey to learn more about these struggles and how they affect me, I came across a blog post that made a difference. If I am being honest, it made me bawl my eyes out.</p>
<p>Check it out, maybe?</p>
<p><a href="https://eggshelltherapy.com/second-generation-immigrant/">Egg Shell Therapy</a></p>
</section>
<section id="fin" class="level2">
<h2 class="anchored" data-anchor-id="fin">Fin</h2>
<p>This article is not a conclusive overview of the book or all the emotions I felt while reading it. But by putting it out there, I wanted to share a different perspective.</p>
<p>I would love to talk some more about it, so please do reach out if that is something you want to do too!</p>
<p>Like these/Want more? Buy me a coffee! <a href="https://ko-fi.com/subhadityamukherjee">Kofi</a></p>
<p>Want articles on something specific? Just ask!</p>
<p>You can always contact me on <a href="https://www.linkedin.com/in/subhaditya-mukherjee-a36883100">LinkedIn</a>, or drop me an <a href="mailto:msubhaditya@gmail.com">Email</a>. For all the code, drop by my <a href="https://github.com/SubhadityaMukherjee/">Github</a>.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>